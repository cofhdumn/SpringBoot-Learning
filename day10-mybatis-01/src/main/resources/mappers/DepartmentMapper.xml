<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.atguigu.mapper.DepartmentMapper">

    <resultMap id="DepartmentWithEmployeeListMap" type="Department">
        <id column="did" property="did"/>
        <result column="dname" property="dname"/>
        <result column="description" property="description"/>


        <!--
            collection标签，表示创建一个关联的集合对象
        -->
        <collection property="employeeList" ofType="Employee" autoMapping="true"></collection>
    </resultMap>


    <select id="findDepartmentWithEmployeeListById" resultMap="DepartmentWithEmployeeListMap">

        SELECT * FROM t_department t1 LEFT JOIN t_employee t2 ON t1.did = t2.did WHERE
        t1.did =#{did}

    </select>
</mapper>